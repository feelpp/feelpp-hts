{
    "Name": "Cylinder Axisymmetric",
    "ShortName": "cylinder-axis",
    "Models": {
        "cfpdes": {
            "equations": [
                "magnetic",
                "current"
            ]
        },
        "magnetic": {
            "common": {
                "setup": {
                    "unknown": {
                        "basis": "Pch1",
                        "name": "Atheta",
                        "symbol": "Atheta"
                    }
                }
            },
            "models": [
                {
                    "name": "magnetic_Conductor",
                    "materials": "Conductor",
                    "setup": {
                        "coefficients": {
                            "c": "x/mu:x:mu",
                            "a": "1/mu/x:mu:x",
                            "f": "materials_Conductor_j_th*x:materials_Conductor_j_th:x"
                        }
                    }
                },
                {
                    "name": "magnetic_Air",
                    "materials": "Air",
                    "setup": {
                        "coefficients": {
                            "c": "x/mu:x:mu",
                            "a": "1/mu/x:mu:x"
                        }
                    }
                }
            ]
        },
        "current": {
            "common": {
                "setup": {
                    "unknown": {
                        "basis": "Pch1",
                        "name": "J",
                        "symbol": "J"
                    }
                }
            },
            "models": [
                {
                    "name": "current_Conductor",
                    "materials": "Conductor",
                    "setup": {
                        "coefficients": {
                            "a": "materials_Conductor_rhoHTS*x:x:materials_Conductor_rhoHTS",
                            "f": "-magnetic_dAtheta_dt*x:x:magnetic_dAtheta_dt"
                        }
                    }
                }
            ]
        }
    },
    "Parameters": {
        "mu": "4*pi*1e-7",
        "tf": 15,
        "bmax": 1.0,
        "rate": "3.0/tf*bmax:tf:bmax",
        // "hsVal":"(t<tf/3.0)*t*rate + (t>tf/3.0)*1.0/(4.0*pi*1e-7) + (t>2.0*tf/3.0)*(-(t-2.0*tf/3.0)*rate):t:tf:rate",
        "hsVal": "bmax - (t-2.0*tf/3.0)*rate + (t<2.0*tf/3.0)*(t-2.0*tf/3.0)*rate + (t<tf/3.0)*(t*rate - bmax):t:tf:rate:bmax",
        "jc": 3e8,
        "ec": 1e-4,
        "n": 20,
        "epsSigma": 1e-8
    },
    "Meshes": {
        "cfpdes": {
            "Import": {
                "filename": "$cfgdir/cylinder.geo"
            }
        }
    },
    "Materials": {
        "Conductor": {
            "markers": [
                "Cylinder"
            ],
            "sigma": "jc / ec * 1.0 / ( epsSigma + (sqrt((-magnetic_dAtheta_dt)*(-magnetic_dAtheta_dt))/ec )^((n-1.0)/n) ):jc:ec:n:epsSigma:magnetic_dAtheta_dt",
            // "rhoHTS": "((ec/jc)*(abs(current_J_rt)/jc)^(n-1)):ec:jc:current_J_rt:n",
            "rhoHTS": "ec/jc*((abs(current_J+1e-12*(abs(current_J_rt)<1e-6))/jc)^(n)):ec:jc:n:current_J:current_J_rt",
            "j_th": "current_J:current_J"
        },
        "Air": {
            "markers": [
                "Air",
                "Spherical_shell"
            ]
        }
    },
    // "InitialConditions": {
    //     "current": {
    //         "J": {
    //             "Expression": {
    //                 "Conductor": {
    //                     "expr": "1e-3"
    //                 }
    //             }
    //         }
    //     }
    // },
    "BoundaryConditions": {
        "magnetic": {
            "Dirichlet": {
                "magdir": {
                    "markers": [
                        "Symmetry_line",
                        "Exterior_boundary"
                    ],
                    "expr": "x/2 *hsVal:x:hsVal"
                }
            }
            // },
            // "current": {
            //     "Neumann": {
            //         "Sides": {
            //             "markers": [
            //                 "Conducting_domain_boundary"
            //             ],
            //             "expr": 0
            //         }
            //     }
        }
    },
    "PostProcess": {
        "use-model-name": 1,
        "cfpdes": {
            "Exports": {
                "fields": "all",
                "expr": {
                    "B": {
                        "expr": "{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x",
                        "representation": [
                            "element"
                        ]
                    }
                }
            }
        }
    }
}