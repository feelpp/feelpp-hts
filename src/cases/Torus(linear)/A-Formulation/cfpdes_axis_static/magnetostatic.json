{
    "Name": "Magnetostatic Axisymmetric",
    "ShortName": "magneto-axis",
    "Models":
    {
        "cfpdes":{
            "equations":"magnetic"
        },
        "magnetic":{
            "common":{
                "setup":{
                    "unknown":
                    {
                        "basis":"Pch1",
                        "name":"Atheta",
                        "symbol":"Atheta"
                    }
                }
            },
            "models":[{
                "name":"magnetic_Conductor",
                "materials":"Conductor",
                "setup":{
                    "coefficients":{
                        "c":"x/mu:x:mu",
                        "a":"1/mu/x:mu:x",
                        "f":"-sigma*U/2/pi:sigma:U"
                    }
                }
            },{
                "name":"magnetic_Air",
                "materials":"Air",
                "setup":{
                    "coefficients":{
                        "c":"x/mu:x:mu",
                        "a":"1/mu/x:mu:x"
                    }
                }
            }]
        }
    },
    "Parameters":
    {
        "sigma":58e6,       // S.m-1
	    "mu":"4*pi*1e-7",   // kg.m/A2/s2
	    "U":1               // Volt
    },
    "Meshes":
    {
        "cfpdes":
        {
            "Import":
            {
                "filename":"$cfgdir/1torus-axis.geo"
            }
        }
    },
    "Materials":
    {
        "Conductor":
        {
	        "markers":"Conductor"
        },
        "Air":
        {
            "markers":"Air"
        }
    },
    "BoundaryConditions":
    {
        "magnetic":
        {
            "Dirichlet":
            {
                "ZAxis":
                {
                    "expr":"0"
                },
                "Infty":
                {
                    "expr":"0"
                }
            }
        }
    },
    "PostProcess":
    {
        "use-model-name":1,
        "magnetic":
        {
            "Exports":
            {
                "fields":"Atheta",
                "expr":
                {
                    "B":
                    {
                        "expr":"{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x",
                        "representation":["element"]
                    },
                    "j_th":
                    {
                        "expr":"-sigma*U/2/pi/x:sigma:U:x",
                        "markers":"Conductor"
                    }
                }
            },
            "Measures":
            {
                "Points":
                {
                    "check":
                    {
                        "coord":"{0.0876,0.}",
                        "fields":"Atheta"
                    },
                    "Or": 
                    {
                        "over_geometry": 
                        {
                            "segment": 
                            {
                                "point1":"{0.001,0}", 
                                "point2":"{0.8759,0}", 
                                "n_points":1000 
                            }
                        },
                        "fields":"Atheta", 
                        "expressions": 
                        {
                            "B":"{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x"
                        },
                        "include_coordinates":1, 
                        "output": 
                        {
                            "type":"table" 
                        }
                    },
                    "Oz": 
                    {
                        "over_geometry": 
                        {
                            "segment": 
                            {
                                "point1":"{0.001,-0.875}", 
                                "point2":"{0.001,0.875}", 
                                "n_points":1000 
                            }
                        },
                        "fields":"Atheta", 
                        "expressions": 
                        {
                            "B":"{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x"
                        },
                        "include_coordinates":1, 
                        "output": 
                        {
                            "type":"table" 
                        }
                    }
                }
            },
            "Checkers":
            {
                "Measures": 
                {
                    "Points_check_field_Atheta":
                    {
                        "value":"-0.053144614474370334",   // the exact value come from python3/Bmap.py
                        "tolerance":1e-3
                    }
                }
            }
        }
    }
}
