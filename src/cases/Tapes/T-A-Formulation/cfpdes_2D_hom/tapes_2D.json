{
    "Name": "Tapes 2D",
    "ShortName": "tapes2D",
    "Models": {
        "cfpdes": {
            "equations": [
                "magnetic",
                "current"
            ]
        },
        "magnetic": {
            "common": {
                "setup": {
                    "unknown": {
                        "basis": "Pch1",
                        "name": "A",
                        "symbol": "A"
                    }
                }
            },
            "models": [
                {
                    "name": "magnetic_Conductor",
                    "materials": "Conductor",
                    "setup": {
                        "coefficients": {
                            "c": "1/mu:mu",
                            "f": "materials_Conductor_J:materials_Conductor_J"
                        }
                    }
                },
                {
                    "name": "magnetic_Air",
                    "materials": "Air",
                    "setup": {
                        "coefficients": {
                            "c": "1/mu:mu"
                        }
                    }
                }
            ]
        },
        "current": {
            "common": {
                "setup": {
                    "unknown": {
                        "basis": "Pch1",
                        "name": "T",
                        "symbol": "T"
                    }
                }
            },
            "models": [
                {
                    "name": "current_Conductor",
                    "materials": "Conductor",
                    "setup": {
                        "coefficients": {
                            "c": "{materials_Conductor_rhoHTS,0,0,0}:materials_Conductor_rhoHTS",
                            // "gamma":"{-materials_Conductor_rhoHTS*current_grad_T_0,0}:current_grad_T_0:materials_Conductor_rhoHTS",
                            "f": "(magnetic_grad_A_0-magnetic_grad_A_previous_0)/timestep:magnetic_grad_A_0:magnetic_grad_A_previous_0:timestep"
                        }
                    }
                }
            ]
        }
    },
    "Parameters": {
        "timestep": 2e-4,
        "thickness_tape": 1e-6, //delta
        "thickness_cell": 0.21e-3, //Lambda
        "width": 4e-3,
        "mu": "4*pi*1e-7",
        "f": 50,
        "Imax": 120.0,
        "I0": 70,
        "Iapp": "I0*sin(2*pi*f*t):I0:f:t",
        "jc0": "Imax/thickness_tape/width:Imax:width:thickness_tape", //=3E10
        "ec": 1e-4,
        "n": 19, //n-1
        "k": 0.5,
        "alpha": 1.5,
        "b0": 0.1
    },
    "Meshes": {
        "cfpdes": {
            "Import": {
                "filename": "$cfgdir/tapes.geo",
                "hsize": 0.0006
            }
        }
    },
    "Materials": {
        "Conductor": {
            "markers": [
                "Conductor"
            ],
            "jcB": "jc0/(1+sqrt(k^2*(-magnetic_grad_A_rt_1)^2+(magnetic_grad_A_rt_0)^2)/b0)^alpha:jc0:k:alpha:b0:magnetic_grad_A_rt_0:magnetic_grad_A_rt_1",
            "rhoHTS": "ec/jc0*((abs(current_grad_T_rt_0)/jc0)^(n)):ec:jc0:n:current_grad_T_rt_0",
            "J": "current_grad_T_0*(thickness_tape/thickness_cell):thickness_tape:thickness_cell:current_grad_T_0"
        },
        "Air": {
            "markers": [
                "Air"
            ]
        }
    },
    "InitialConditions": {
        "A": {
            "Expression": {
                "ini1": {
                    "markers": [
                        "Conductor",
                        "Air"
                    ],
                    "expr": 0
                }
            }
        },
        "T": {
            "Expression": {
                "ini2": {
                    "markers": [
                        "Conductor"
                    ],
                    "expr": 0
                }
            }
        }
    },
    "BoundaryConditions": {
        "current": {
            "Dirichlet": {
                "Top": {
                    "markers": [
                        "Top"
                    ],
                    "expr": "Iapp/thickness_tape:thickness_tape:Iapp"
                },
                "Bottom": {
                    "markers": [
                        "Bottom"
                    ],
                    "expr": "0"
                }
            },
            "Neumann": {
                "Sides": {
                    "markers": [
                        "Sides"
                    ],
                    "expr": 0
                }
            }
        },
        "magnetic": {
            "Dirichlet": {
                "dir1": {
                    "markers": [
                        "Exterior_boundary"
                    ],
                    "expr": "0"
                }
            }
        }
    },
    "PostProcess": {
        "use-model-name": 1,
        "cfpdes": {
            "Exports": {
                "fields": "all",
                "expr": {
                    "B": {
                        "expr": "{magnetic_grad_A_1,-magnetic_grad_A_0}:magnetic_grad_A_0:magnetic_grad_A_1",
                        "representation": [
                            "element"
                        ]
                    },
                    "Jz": {
                        "expr": "current_grad_T_rt_0:current_grad_T_rt_0",
                        "representation": [
                            "element"
                        ],
                        "markers": [
                            "Conductor"
                        ]
                    }
                }
            }
        }
    }
}