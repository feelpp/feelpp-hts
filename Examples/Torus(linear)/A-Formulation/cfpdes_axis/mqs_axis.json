{
    "Name": "Mqs Axisymmetric",
    "ShortName": "mqs-axis",
    "Models":
    {
        "cfpdes":{
            "equations":"magnetic"
        },
        "magnetic":{
            "common":{
                "setup":{
                    "unknown":
                    {
                        "basis":"Pch1",
                        "name":"Atheta",
                        "symbol":"Atheta"
                    }
                }
            },
            "models":[{
                "name":"magnetic_Conductor",
                "materials":"Conductor",
                "setup":{
                    "coefficients":{
                        "c":"x/mu:x:mu",
                        "a":"1/mu/x:mu:x",
                        "f":"-sigma*U/2/pi:sigma:U",
                        "d":"sigma*x:sigma:x"
                    }
                }
            },{
                "name":"magnetic_Air",
                "materials":"Air",
                "setup":{
                    "coefficients":{
                        "c":"x/mu:x:mu",
                        "a":"1/mu/x:mu:x"
                    }
                }
            }]
        }
    },
    "Parameters":
    {
        "sigma":58e6,      
	    "mu":"4*pi*1e-7",   
	    "U":"t/1.*(t<1.)+(t<20.)*(t>(1.)):t" 
    },
    "Meshes":
    {
        "cfpdes":
        {
            "Import":
            {
                "filename":"$cfgdir/1torus-axis.geo"
            }
        }
    },
    "Materials":
    {
        "Conductor":
        {
	        "markers":"Conductor"
        },
        "Air":
        {
            "markers":"Air"
        }
    },
    "BoundaryConditions":
    {
        "magnetic":
        {
            "Dirichlet":
            {
                "ZAxis":
                {
                    "expr":"0"
                },
                "Infty":
                {
                    "expr":"0"
                }
            }
        }
    },
    "PostProcess":
    {
        "use-model-name":1,
        "magnetic":
        {
            "Exports":
            {
                "fields":"Atheta",
                "expr":
                {
                    "B":
                    {
                        "expr":"{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x",
                        "representation":["element"]
                    },
                    "j_th":
                    {
                        "expr":"-sigma*(U/2/pi/x+magnetic_dAtheta_dt):sigma:U:x:magnetic_dAtheta_dt",
                        "markers":"Conductor"
                    },
                    "U":
                    {
                        "expr":"U:U"
                    }
                }
            },
            "Measures":
            {
                "Statistics":
                {
                    "I":
                    {
                        "type":"integrate",
                        "expr":"-sigma*(U/2/pi+magnetic_dAtheta_dt*x)/x:sigma:U:magnetic_dAtheta_dt:x",
                        "markers":["Conductor"]
                    },
                    "Power":
                    {
                        "type":"integrate",
                        "expr":"2*pi*sigma*(U/2/pi+magnetic_dAtheta_dt*x)/x*(U/2/pi+magnetic_dAtheta_dt*x):x:sigma:U:magnetic_dAtheta_dt",
                        "markers":["Conductor"]
                    },
                    "MagneticEnergy":
                    {
                        "type":"integrate",
                        "expr":"-2*pi*magnetic_Atheta*sigma*(U/2/pi+magnetic_dAtheta_dt*x):x:magnetic_Atheta:sigma:U:magnetic_dAtheta_dt",
                        "markers":["Conductor"]
                    },
                    "Resistance":
                    {
                        "type":"integrate",
                        "expr":"2*pi/sigma*x:sigma:x",
                        "markers":["Conductor"]
                    }
                },
                "Points":
                {
                    "P0":
                    {
                        "coord":"{0.001,0.}",
                        "fields":"Atheta",
                        "expressions":
                        {
                            "bz":"magnetic_grad_Atheta_0+magnetic_Atheta/x:magnetic_grad_Atheta_0:magnetic_Atheta:x"
                        }
                    },
                    "check":
                    {
                        "coord":"{0.0876,0.}",
                        "fields":"Atheta"
                    },
                    "Or": 
                    {
                        "over_geometry": 
                        {
                            "segment": 
                            {
                                "point1":"{0.001,0}", 
                                "point2":"{0.8759,0}", 
                                "n_points":100 
                            }
                        },
                        "fields":"Atheta", 
                        "expressions": 
                        {
                            "B":"{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x"
                        },
                        "include_coordinates":1, 
                        "output": 
                        {
                            "type":"table" 
                        }
                    },
                    "Oz": 
                    {
                        "over_geometry": 
                        {
                            "segment": 
                            {
                                "point1":"{0.001,-0.875}", 
                                "point2":"{0.001,0.875}", 
                                "n_points":100 
                            }
                        },
                        "fields":"Atheta", 
                        "expressions": 
                        {
                            "B":"{-magnetic_grad_Atheta_1,magnetic_grad_Atheta_0+magnetic_Atheta/x}:magnetic_grad_Atheta_0:magnetic_grad_Atheta_1:magnetic_Atheta:x"
                        },
                        "include_coordinates":1, 
                        "output": 
                        {
                            "type":"table" 
                        }
                    }
                }
                
            }/*,
            "Checkers":
            {
                "Measures": 
                {
                    "Points_check_field_Atheta":
                    {
                        "value":"-0.053144614474370334", 
                        "tolerance":1e-3
                    }
                }
            }*/
        }
    }
}
